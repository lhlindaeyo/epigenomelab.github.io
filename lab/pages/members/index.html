<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Members | Epigenome Lab</title>
  <link rel="stylesheet" href="../../lab/assets/styles.css">

  <!-- fullPage.js -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.20/fullpage.min.css" />
</head>
<body>
  <!-- Navbar -->
  <header class="navbar">
    <div class="logo">
      <a href="../../index.html"><img src="../../lab/assets/images/logo_black.png" alt="Lab Logo"></a>
      <span>Epigenome Lab</span>
    </div>
    <nav>
      <div class="dropdown">
        <a href="#">Member</a>
        <div class="dropdown-content">
          <a href="#professors">Professor</a>
          <a href="#students">Student</a>
          <a href="#alumni">Alumni</a>
        </div>
      </div>
      <a href="../publications/journals.html">Publication</a>
      <a href="../projects.html">Project</a>
      <a href="../contacts.html">Contact</a>
    </nav>
  </header>

  <!-- Fullpage Container -->
  <main id="fullpage">
    <!-- Professors -->
    <div class="section" data-anchor="professors">
      <h1>Professors</h1>
      <div id="professor-list" class="card-container"></div>
    </div>

    <!-- Students -->
    <div class="section" data-anchor="students">
      <h1>Students</h1>
      <div id="student-list" class="card-container"></div>
    </div>

    <!-- Alumni -->
    <div class="section" data-anchor="alumni">
      <h1>Alumni</h1>
      <div id="alumni-list" class="card-container"></div>
    </div>
  </main>

  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.20/fullpage.min.js"></script>
  <script>
    // fullPage.js init
    new fullpage('#fullpage', {
      anchors: ['professors','students','alumni'],
      navigation: true,
      navigationPosition: 'right'
    });

    // Load JSON + Render
    function loadMembers(file, containerId, isProfessor=false) {
      fetch(`../../lab/data/${file}`)
        .then(res => res.json())
        .then(data => {
          const container = document.getElementById(containerId);
          data.forEach(member => {
            const card = document.createElement("div");
            card.className = "member-card";
            card.innerHTML = `
              <img src="../../${member.image}" alt="${member.name}">
              <h2>${member.name}</h2>
              <p>${isProfessor ? member.title : member.degree + ' / ' + (member.year || '')}</p>
              ${member.education ? `<p><strong>Education:</strong> ${member.education.join(", ")}</p>` : ""}
              ${member.experience ? `<p><strong>Experience:</strong> ${member.experience}</p>` : ""}
              ${member.email ? `<p><a href="mailto:${member.email}">${member.email}</a></p>` : ""}
            `;
            container.appendChild(card);
          });
        });
    }

    loadMembers("professors.json", "professor-list", true);
    loadMembers("students.json", "student-list");
    loadMembers("alumni.json", "alumni-list");
  </script>
</body>
</html>
